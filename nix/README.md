# Nix

Nix infrastructure.

## stackage2nix

Directory contains ready-to-use `stackage2nix` wrapper with
`--all-cabal-hashes` and `--lts-haskell` flags set up. It also has all
required executables on `PATH`.

Install stackage2nix:

```
$ nix-env -i -f ./stackage2nix

$ stackage2nix
Missing: (--resolver ARG | STACK_YAML)
```

## stackage

Directory contains derivation that creates Stackage LTS from `lts` argument.

Build lts-9.0:

```
$ nix-build --argstr lts lts-9.0 ./stackage

$ ls result
configuration-packages.nix  packages.nix
```

## haskellPackages

Directory contains Stackage LTS packages generated by `stackage2nix` from this
project's `stack.yaml`.

## lib.nix

Provides Nix expressions for `hackage-db`, `all-cabal-hashes` and `lts-haskell`
sources.
